package com.example.smartcutapp.ui.screen.list

import androidx.lifecycle.ViewModel
import androidx.lifecycle.viewModelScope
import kotlinx.coroutines.delay
import kotlinx.coroutines.flow.MutableStateFlow
import kotlinx.coroutines.flow.asStateFlow
import kotlinx.coroutines.launch

class ListViewModel: ViewModel (){
    private val _uiState: MutableStateFlow<ListState> = MutableStateFlow(ListState.Loading)
    val uiState = _uiState.asStateFlow()

    init{
        getData()

    }
    fun getData(){
        viewModelScope.launch{
            _uiState.emit(ListState.Loading)
            delay(2000L)
            _uiState.emit(ListState.Error("User error"))

        }
    }
}